<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8"/>
    <title>HIT circle animation</title>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
<main class="stage">
    <div class="word">
        <!-- H -->
        <div class="circle circle--h">
            <div class="handle handle--top"></div>
            <div class="handle handle--bottom"></div>
        </div>

        <!-- I -->
        <div class="circle circle--i">
            <div class="handle handle--left"></div>
            <div class="handle handle--right"></div>
        </div>

        <!-- T -->
        <div class="circle circle--t">
            <svg class="t-handles" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
                <!-- ЛЕВАЯ -->
                <g class="t-node t-node--left" transform="translate(28.5, 75)">
                    <rect class="t-rect t-rect--left" x="-7" y="-7" width="9" height="9" rx="7"/>
                </g>
                <!-- ПРАВАЯ -->
                <g class="t-node t-node--right" transform="translate(77.5, 75)">
                    <rect class="t-rect t-rect--right" x="-7" y="-7" width="9" height="9" rx="7"/>
                </g>
            </svg>
        </div>

        <!-- X -->
        <div class="spec-circle--x">
            <svg class="x-handles" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
                <defs>
                    <!-- Маска: белым оставляем, чёрным вырезаем -->
                    <mask id="x-cut" maskUnits="userSpaceOnUse">
                        <!-- фон маски чёрный = всё скрыто -->
                        <rect x="0" y="0" width="100" height="100" fill="black"/>
                        <!-- круг белый = показываем круг -->
                        <rect class="rect-mask--x" x="0" y="0" width="100" height="100" rx="50" fill="white"/>
                        <!-- Треугольники ЧЁРНЫЕ = вырезают дыры в круге -->
                        <g fill="black">
                            <g transform="translate(50, 0)">
                                <polygon points="-18,0 0,36 18,0"/>
                            </g>
                            <g transform="translate(0, 50)">
                                <polygon points="0,-18 0,18 36,0"/>
                            </g>
                            <g transform="translate(50, 100)">
                                <polygon points="-18,0 18,0 0,-36"/>
                            </g>
                            <g transform="translate(100, 50)">
                                <polygon points="0,-18 0,18 -36,0"/>
                            </g>
                        </g>
                    </mask>
                </defs>

                <!-- ОДИН слой: чёрный прямоугольник, на который навешана маска -->
                <rect width="100" height="100" class="spec-rect--x"/>
            </svg>
        </div>
    </div>
</main>

<script>
    window.addEventListener("DOMContentLoaded", () => {
        const stage = document.querySelector(".stage");
        setTimeout(() => stage.classList.add("is-playing"), 300);
    });
</script>
</body>
</html>
